{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n  const API_KEY = '47392920-efce9c2b3427e3353db7767ab';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n\n    .then(data => {\n      console.log('API response:', data);\n      if (data.hits.length === 0) {\n        throw new Error('No images found');\n      }\n      return data.hits; // Повертаємо масив зображень\n    })\n    .catch(error => {\n      // Обробка помилок у функції fetchImages\n      console.error('Error fetching images:', error);\n      throw error; // Передаємо помилку далі для обробки у main.js\n    });\n}\n","export function clearGallery(container) {\n  container.innerHTML = '';\n}\n\n// Функція рендерингу зображень\nexport function renderImages(images, container, lightbox) {\n  const markup = images\n    .map(\n      image => `\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <div class=\"card\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n            <div class=\"card-info\">\n              <span>Likes: ${image.likes}</span>\n              <span>Views: ${image.views}</span>\n              <span>Comments: ${image.comments}</span>\n              <span>Downloads: ${image.downloads}</span>\n            </div>\n          </div>\n        </a>`\n    )\n    .join('');\n\n  container.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh(); // Оновлюємо lightbox\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderImages, clearGallery } from './js/render-functions.js';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('#search-form');\nconst galleryContainer = document.querySelector('.gallery');\nlet lightbox = new SimpleLightbox('.gallery a');\n\n// Функція обробки події на формі\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  const query = event.currentTarget.searchQuery.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  // Показуємо індикатор завантаження\n  showLoader();\n\n  fetchImages(query)\n    .then(images => {\n      clearGallery(galleryContainer); // Очищаємо галерею\n      renderImages(images, galleryContainer, lightbox); // Рендеримо зображення\n      iziToast.success({\n        title: 'Success',\n        message: 'Images loaded successfully!',\n      });\n    })\n    .catch(error => {\n      clearGallery(galleryContainer); // Очистка галереї у разі помилки\n      iziToast.error({\n        title: 'Error',\n        message:\n          error.message ||\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      hideLoader(); // Ховаємо індикатор завантаження\n    });\n}\n\n// Показ індикатора завантаження\nfunction showLoader() {\n  galleryContainer.innerHTML = `<div class=\"loader\"></div>`;\n}\n\n// Сховати індикатор завантаження\nfunction hideLoader() {\n  document.querySelector('.loader')?.remove();\n}\n"],"names":["fetchImages","query","url","response","data","error","clearGallery","container","renderImages","images","lightbox","markup","image","searchForm","galleryContainer","SimpleLightbox","onSearch","event","iziToast","showLoader","hideLoader","_a"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAGjC,MAAMC,EAAM,qEAAgCD,CAAK,2DAEjD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EAEA,KAAKC,GAAQ,CAEZ,GADA,QAAQ,IAAI,gBAAiBA,CAAI,EAC7BA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAK,IAClB,CAAK,EACA,MAAMC,GAAS,CAEd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CCzBO,SAASC,EAAaC,EAAW,CACtCA,EAAU,UAAY,EACxB,CAGO,SAASC,EAAaC,EAAQF,EAAWG,EAAU,CACxD,MAAMC,EAASF,EACZ,IACCG,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA;AAAA,wBAEdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6BAEjCA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,aAI3C,EACA,KAAK,EAAE,EAEVL,EAAU,mBAAmB,YAAaI,CAAM,EAChDD,EAAS,QAAO,CAClB,CClBA,MAAMG,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAmB,SAAS,cAAc,UAAU,EAC1D,IAAIJ,EAAW,IAAIK,EAAe,YAAY,EAG9CF,EAAW,iBAAiB,SAAUG,CAAQ,EAE9C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMhB,EAAQgB,EAAM,cAAc,YAAY,MAAM,OAEpD,GAAI,CAAChB,EAAO,CACViB,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAGDC,IAEAnB,EAAYC,CAAK,EACd,KAAKQ,GAAU,CACdH,EAAaQ,CAAgB,EAC7BN,EAAaC,EAAQK,EAAkBJ,CAAQ,EAC/CQ,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,6BACjB,CAAO,CACP,CAAK,EACA,MAAMb,GAAS,CACdC,EAAaQ,CAAgB,EAC7BI,EAAS,MAAM,CACb,MAAO,QACP,QACEb,EAAM,SACN,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbe,GACN,CAAK,CACL,CAGA,SAASD,GAAa,CACpBL,EAAiB,UAAY,4BAC/B,CAGA,SAASM,GAAa,QACpBC,EAAA,SAAS,cAAc,SAAS,IAAhC,MAAAA,EAAmC,QACrC"}